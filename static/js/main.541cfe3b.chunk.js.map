{"version":3,"sources":["libs/firebase.js","utils/error.js","components/loading.js","components/login.js","Pie.js","App.js","reportWebVitals.js","index.js"],"names":["app","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","database","getDatabase","auth","getAuth","logout","console","log","signOut","handleError","error","alert","code","message","Loading","style","height","display","alignItems","justifyContent","Login","useAuthState","loading","useState","isButtonDisabled","setIsButtonDisabled","login","email","a","actionCodeSettings","url","window","location","href","handleCodeInApp","sendSignInLinkToEmail","then","localStorage","setItem","catch","onSubmit","event","preventDefault","target","elements","value","type","name","id","required","marginLeft","disabled","Pie","user","userId","uid","useObjectVal","ref","snapshot","loadingDatabase","diets","handleSubmit","date","diet","meal","dietEntry","dateFilter","currentDateInSavedDiet","savedDiet","filter","currentDateIndexInSavedDiet","findIndex","isCurrentDateInSavedDiet","length","dietEntryToSave","splice","JSON","stringify","data","set","getNearestDate","today","Date","dates","reduce","previousValue","currentValue","push","sort","b","Math","abs","labelStyle","border","borderRadius","padding","width","flexDirection","lunchLabelStyle","nearestDate","toLocaleDateString","margin","veganDiet","vegetarianDiet","omnivoreDiet","title","color","getData","label","dataEntry","round","percentage","fontSize","marginBottom","dietDates","item","index","indexOf","getDietNumber","onClick","App","isSignInWithEmailLink","getItem","prompt","signInWithEmailLink","removeItem","search","className","maxWidth","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.541cfe3b.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getDatabase } from \"firebase/database\";\nimport { getAuth, signOut } from \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID,\n};\n\nconst app = initializeApp(firebaseConfig);\nconst database = getDatabase(app);\nconst auth = getAuth();\n\nconst logout = () => {\n  console.log(\"logout\")\n  signOut(auth);\n};\n\nexport { auth, database, logout };\n","const handleError = (error) => {\n  alert(\"Une erreur est survenue, recommence 😜\");\n  console.error(\"errorCode\", error?.code);\n  console.error(\"errorMessage\", error?.message);\n};\n\nexport default handleError;\n","import React from \"react\";\n\nconst Loading = () => (\n  <div\n    style={{\n      height: \"calc(100vh - 200px)\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    }}\n  >\n    <p>Initialisation de l&apos;Application...</p>\n  </div>\n);\n\nexport default Loading;\n","import React, { useState } from \"react\";\nimport { sendSignInLinkToEmail } from \"firebase/auth\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { auth } from \"../libs/firebase\";\nimport handleError from \"../utils/error\";\nimport Loading from \"./loading\";\n\nconst Login = () => {\n  const [loading] = useAuthState(auth);\n  const [isButtonDisabled, setIsButtonDisabled] = useState(false);\n\n  const login = async (email) => {\n    setIsButtonDisabled(true);\n    const actionCodeSettings = {\n      url: window.location.href,\n      handleCodeInApp: true,\n    };\n\n    await sendSignInLinkToEmail(auth, email, actionCodeSettings)\n      .then(() => {\n        window.localStorage.setItem(\"emailForSignIn\", email);\n        alert(\"Tu vas recevoir un mail pour te connecter 💌\");\n        setIsButtonDisabled(false);\n      })\n      .catch(handleError);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    console.log(\"submit form\");\n    const email = event?.target?.elements?.email?.value;\n    login(email);\n  };\n\n  return (\n    <div\n      style={{\n        height: \"calc(100vh - 200px)\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      {loading ? (\n        <Loading />\n      ) : (\n        <form onSubmit={handleSubmit}>\n          <label>\n            Renseigne ton email\n            <input\n              type=\"email\"\n              name=\"email\"\n              id=\"email\"\n              required\n              style={{ marginLeft: \"10px\" }}\n            />\n          </label>\n          <br />\n          <br />\n          <button type=\"submit\" disabled={isButtonDisabled}>\n            {!isButtonDisabled\n              ? \"Recevoir le lien de connexion\"\n              : \"Patiente un peu 🚀\"}\n          </button>\n        </form>\n      )}\n    </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport { PieChart } from \"react-minimal-pie-chart\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { ref, set } from \"firebase/database\";\nimport { useObjectVal } from \"react-firebase-hooks/database\";\nimport { auth, database, logout } from \"./libs/firebase\";\nimport Loading from \"./components/loading\";\n\nconst Pie = () => {\n  const [user] = useAuthState(auth);\n  const userId = user?.uid;\n  const [snapshot, loadingDatabase] = useObjectVal(\n    ref(database, `users/${userId}`)\n  );\n  const diets = snapshot || [];\n\n  const getDietNumber = () => {\n    const dietDates = diets.reduce((previousValue, currentValue) => {\n      previousValue.push(currentValue.date);\n      return previousValue;\n    }, []);\n\n    const dietDatesWithoutDuplicateDates = dietDates.filter(\n      (item, index) => dietDates.indexOf(item) === index\n    );\n\n    return dietDatesWithoutDuplicateDates.length;\n  };\n\n  const getData = () => {\n    const savedDiet = diets;\n    const veganDiet = savedDiet.filter((diet) => diet.diet === \"vegan\");\n    const vegetarianDiet = savedDiet.filter(\n      (diet) => diet.diet === \"vegetarian\"\n    );\n    const omnivoreDiet = savedDiet.filter((diet) => diet.diet === \"omnivore\");\n\n    return [\n      { title: \"vegan\", value: veganDiet.length, color: \"#75DBCD\" },\n      { title: \"végétarien\", value: vegetarianDiet.length, color: \"#FAA381\" },\n      { title: \"omnivore\", value: omnivoreDiet.length, color: \"#DCDBA8\" },\n    ];\n  };\n\n  const writeUserData = (data) => {\n    set(ref(database, `users/${userId}`), data);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const date = event.target.date.value;\n    const diet = event.target.diet.value;\n    const meal = event.target.meal.value;\n    const savedDiet = diets;\n    const dietEntry = { date, diet, meal };\n    const dateFilter = () => diet.date === date && diet.meal === meal;\n    const currentDateInSavedDiet = savedDiet.filter(dateFilter);\n    const currentDateIndexInSavedDiet = savedDiet.findIndex(dateFilter);\n    const isCurrentDateInSavedDiet = currentDateInSavedDiet.length > 0;\n    let dietEntryToSave = [...savedDiet];\n\n    if (isCurrentDateInSavedDiet) {\n      dietEntryToSave.splice(currentDateIndexInSavedDiet, 1);\n    }\n\n    dietEntryToSave = [...dietEntryToSave, dietEntry];\n\n    localStorage.setItem(\"diet\", JSON.stringify(dietEntryToSave));\n    writeUserData(dietEntryToSave);\n  };\n\n  const getDatesFromSavedDiet = () =>\n    diets.reduce((previousValue, currentValue) => {\n      previousValue.push(currentValue.date);\n      return previousValue;\n    }, []);\n\n  const getNearestDate = () => {\n    const today = new Date();\n    const dates = getDatesFromSavedDiet();\n    const sortedByDiff = [...dates].sort(\n      (a, b) => Math.abs(new Date(a) - today) - Math.abs(new Date(b) - today)\n    );\n\n    return sortedByDiff[0];\n  };\n\n  const labelStyle = {\n    border: \"solid 1px black\",\n    height: \"100px\",\n    borderRadius: \"5px\",\n    padding: \"5px\",\n    width: \"100px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n  };\n\n  const lunchLabelStyle = {\n    ...labelStyle,\n    width: \"65px\",\n    height: \"65px\",\n  };\n\n  const nearestDate = getNearestDate()\n    ? new Date(getNearestDate()).toLocaleDateString(\"fr\")\n    : \"Aucune 🤷‍\";\n\n  if (loadingDatabase) {\n    return <Loading />;\n  }\n\n  return (\n    <>\n      <div style={{ width: \"70%\", height: \"300px\", margin: \"0 auto 30px\" }}>\n        {diets.length === 0 ? (\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              height: \"100%\",\n            }}\n          >\n            <p>Remplis le formulaire 😉</p>\n          </div>\n        ) : (\n          <PieChart\n            data={getData()}\n            label={({ dataEntry }) =>\n              dataEntry.value > 0\n                ? `${dataEntry.title} : ${Math.round(dataEntry.percentage)}%`\n                : null\n            }\n            labelStyle={{ fontSize: \"6px\" }}\n          />\n        )}\n      </div>\n\n      <form onSubmit={handleSubmit}>\n        <label>\n          Date\n          <input type=\"date\" name=\"date\" id=\"date\" required />\n        </label>\n        <br />\n        <br />\n        <br />\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n            marginBottom: \"40px\",\n          }}\n        >\n          <label style={lunchLabelStyle}>\n            Matin <br />\n            <input type=\"radio\" name=\"meal\" value=\"breakfast\" required />\n          </label>\n          <br />\n          <br />\n          <label style={lunchLabelStyle}>\n            Midi <br />\n            <input type=\"radio\" name=\"meal\" value=\"lunch\" />\n          </label>\n          <br />\n          <br />\n          <label style={lunchLabelStyle}>\n            Goûter <br />\n            <input type=\"radio\" name=\"meal\" value=\"snack\" />\n          </label>\n          <br />\n          <br />\n          <label style={lunchLabelStyle}>\n            Soir <br />\n            <input type=\"radio\" name=\"meal\" value=\"dinner\" />\n          </label>\n        </div>\n\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n          }}\n        >\n          <label style={labelStyle}>\n            Végétarien <br />\n            <input type=\"radio\" name=\"diet\" value=\"vegetarian\" required />\n          </label>\n          <br />\n          <br />\n          <label style={labelStyle}>\n            Végan <br />\n            <input type=\"radio\" name=\"diet\" value=\"vegan\" />\n          </label>\n          <br />\n          <br />\n          <label style={labelStyle}>\n            Omnivore <br />\n            <input type=\"radio\" name=\"diet\" value=\"omnivore\" />\n          </label>\n        </div>\n\n        <br />\n        <br />\n        <button type=\"submit\" style={{ padding: \"10px 15px\" }}>\n          Enregistrer\n        </button>\n      </form>\n\n      <div>\n        <p>Nombre de jours : {getDietNumber()}</p>\n        <p>Date la plus proche renseignée : {nearestDate}</p>\n      </div>\n\n      <hr />\n      {user && (\n        <div>\n          <p>Utilisateur: {user.email}</p>\n          <button onClick={logout} type=\"submit\">\n            Se déconnecter\n          </button>\n        </div>\n      )}\n\n      <hr />\n      <br />\n    </>\n  );\n};\n\nPie.propTypes = {};\n\nexport default Pie;\n","// import logo from './logo.svg';\nimport \"./App.css\";\nimport React from \"react\";\nimport { isSignInWithEmailLink, signInWithEmailLink } from \"firebase/auth\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { auth } from \"./libs/firebase\";\nimport Login from \"./components/login\";\nimport Loading from \"./components/loading\";\nimport Pie from \"./Pie\";\nimport handleError from \"./utils/error\";\n\nfunction App() {\n  const [user, loading] = useAuthState(auth);\n\n  if (isSignInWithEmailLink(auth, window.location.href)) {\n    let email = window.localStorage.getItem(\"emailForSignIn\");\n    if (!email) {\n      email = window.prompt(\"Entrez votre email pour confirmation\");\n    }\n\n    signInWithEmailLink(auth, email, window.location.href)\n      .then(() => {\n        window.localStorage.removeItem(\"emailForSignIn\");\n        window.location.search = \"\";\n      })\n      .catch(handleError);\n  }\n\n  if (loading) {\n    return (\n      <div\n        className=\"App\"\n        style={{ maxWidth: \"375px\", margin: \"0 auto\", padding: \"0 10px\" }}\n      >\n        <header style={{ margin: \"20px 0\" }}>\n          {process.env.REACT_APP_WEBSITE_NAME}\n        </header>\n        <Loading />\n      </div>\n    );\n  }\n\n  return (\n    <div\n      className=\"App\"\n      style={{ maxWidth: \"375px\", margin: \"0 auto\", padding: \"0 10px\" }}\n    >\n      <header style={{ margin: \"20px 0\" }}>\n        {process.env.REACT_APP_WEBSITE_NAME}\n      </header>\n      {user ? <Pie /> : <Login />}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}