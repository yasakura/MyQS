{"version":3,"sources":["utils/error.js","libs/firebase.js","services/auth.js","components/EmailInput.js","components/Alert.js","components/Login.js","components/SnackbarStack.js","services/diets.js","utils/uniqueKey.js","components/RadioButtons.js","components/DietForm.js","utils/diets.js","components/Chart.js","components/MyQS.js","components/Header.js","components/Loading.js","hoc/GlobalLoader.js","components/Footer.js","App.js","reportWebVitals.js","index.js"],"names":["handleError","error","alert","console","code","message","app","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","database","getDatabase","auth","getAuth","logOut","signOut","signIn","a","isSignInWithEmailLink","window","location","href","email","localStorage","getItem","prompt","signInWithEmailLink","then","removeItem","search","catch","useRetrieveUser","useAuthState","user","loadingUser","EmailInput","isEmailOnError","setEmailOnError","useState","helperText","setHelperText","setSuccessEmail","FormControl","TextField","id","type","label","className","placeholder","required","onBlur","event","target","value","isEmptyEmail","length","isValidEmail","test","onChange","Alert","isAlertOpen","setAlertOpen","Dialog","open","DialogContent","DialogContentText","DialogActions","Button","onClick","Login","isButtonDisabled","setIsButtonDisabled","login","actionCodeSettings","url","handleCodeInApp","Promise","resolve","sendSignInLinkToEmail","sendSignIn","setItem","onSubmit","preventDefault","elements","variant","disabled","SnackbarStack","snackPack","setSnackPack","isSnackbarShowed","setSnackbarShowed","React","undefined","messageInfo","setMessageInfo","useEffect","prev","slice","Snackbar","TransitionProps","onExited","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","reason","severity","key","useRetrieveDiets","userId","uid","useObjectVal","ref","diets","loadingDiets","uniqueKey","Math","random","toString","RadioButtons","data","cssClassName","RadioGroup","row","name","defaultValue","map","meal","FormControlLabel","control","Radio","size","labelPlacement","DietForm","retrieveUser","retrieveDiets","handleSuccessMessage","date","diet","set","sendDiets","userDiet","rawDiets","dietFilter","item","currentDietInSavedDiet","filter","currentDietFirstIndexInSavedDiet","findIndex","splice","composeUserDiet","component","InputLabelProps","shrink","mealsData","dietsData","shouldShowMessage","showMessage","Chart","labelStyle","fontSize","MyQS","periodDiet","setPeriodDiet","periodDietButton","setPeriodDietButton","getData","useCallback","period","savedDietFilteredByPeriod","dietDate","Date","today","rawToday","setDate","getDate","setMonth","getMonth","setFullYear","getFullYear","veganDiet","vegetarianDiet","omnivoreDiet","periodDietArr","push","title","color","getNearestDate","dates","reduce","previousValue","currentValue","sort","b","abs","nearestDate","toLocaleDateString","ToggleButtonGroup","exclusive","periodDietSelected","ToggleButton","dataEntry","round","percentage","dietDates","index","indexOf","getDietNumber","Header","Box","AppBar","position","Toolbar","Typography","Loading","GlobalLoader","children","isLoading","setLoading","shouldShowLoader","setTimeout","Footer","App","theme","createTheme","palette","primary","main","ThemeProvider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5bf580f4.chunk.js","sourcesContent":["const handleError = (error) => {\n  alert(\"Une erreur est survenue, recommence 😜\");\n  console.error(\"errorCode\", error?.code);\n  console.error(\"errorMessage\", error?.message);\n};\n\nexport default handleError;\n","import { initializeApp } from \"firebase/app\";\nimport { getDatabase } from \"firebase/database\";\nimport { getAuth, signOut } from \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID,\n};\n\nconst app = initializeApp(firebaseConfig);\n\nexport const database = getDatabase(app);\n\nexport const auth = getAuth();\n\nexport const logout = () => {\n  signOut(auth);\n};\n","import {\n  isSignInWithEmailLink,\n  sendSignInLinkToEmail,\n  signInWithEmailLink,\n} from \"firebase/auth\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { auth, logout } from \"../libs/firebase\";\nimport handleError from \"../utils/error\";\n\nconst logOut = () => logout();\n\nconst sendSignIn = (email) => {\n  const actionCodeSettings = {\n    url: window.location.href,\n    handleCodeInApp: true,\n  };\n  return Promise.resolve(\n    sendSignInLinkToEmail(auth, email, actionCodeSettings)\n  );\n};\n\nconst signIn = async () => {\n  if (isSignInWithEmailLink(auth, window.location.href)) {\n    let email = window.localStorage.getItem(\"emailForSignIn\");\n    if (!email) {\n      email = window.prompt(\"Entrez votre email pour confirmation\");\n    }\n\n    await signInWithEmailLink(auth, email, window.location.href)\n      .then(() => {\n        window.localStorage.removeItem(\"emailForSignIn\");\n        window.location.search = \"\";\n      })\n      .catch((error) => {\n        if (error?.code === \"auth/invalid-action-code\") return;\n        handleError(error);\n      });\n  }\n};\n\nconst useRetrieveUser = () => {\n  const [user, loadingUser] = useAuthState(auth);\n  return {user, loadingUser};\n};\n\nexport { sendSignIn, logOut, signIn, useRetrieveUser as retrieveUser };\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport FormControl from \"@mui/material/FormControl\";\nimport { TextField } from \"@mui/material\";\n\nconst EmailInput = ({ isEmailOnError, setEmailOnError }) => {\n  const [helperText, setHelperText] = useState(\" \");\n\n  const setSuccessEmail = () => {\n    setEmailOnError(false);\n    setHelperText(\" \");\n  };\n\n  const handleBlur = (event) => {\n    const validEmailRegex = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\n    const email = event.target.value;\n    const isEmptyEmail = email.length === 0;\n    const isValidEmail = validEmailRegex.test(email);\n\n    switch (true) {\n      case isEmptyEmail:\n        setEmailOnError(true);\n        setHelperText(\"Tu n'as pas rempli ton email\");\n        break;\n      case !isValidEmail:\n        setEmailOnError(true);\n        setHelperText(\"Le format de l'email n'est pas bon\");\n        break;\n      default:\n        setSuccessEmail();\n    }\n  };\n\n  const handleChange = (event) => {\n    const validEmailRegex = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\n\n    if (isEmailOnError) {\n      if (validEmailRegex.test(event.target.value)) {\n        setSuccessEmail();\n      }\n    }\n  };\n  return (\n    <FormControl>\n      <TextField\n        id=\"email\"\n        type=\"email\"\n        label=\"email\"\n        className=\"emailField\"\n        placeholder=\"Entrez votre email\"\n        required\n        onBlur={handleBlur}\n        onChange={handleChange}\n        error={isEmailOnError}\n        helperText={helperText}\n      />\n    </FormControl>\n  );\n};\n\nEmailInput.propTypes = {\n  isEmailOnError: PropTypes.bool.isRequired,\n  setEmailOnError: PropTypes.func.isRequired,\n};\n\nexport default EmailInput;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n} from \"@mui/material\";\n\nconst Alert = ({ isAlertOpen, message, setAlertOpen }) => (\n  <Dialog open={isAlertOpen}>\n    <DialogContent>\n      <DialogContentText id=\"alert-dialog-description\">\n        {message}\n      </DialogContentText>\n    </DialogContent>\n    <DialogActions>\n      <Button onClick={() => setAlertOpen(false)}>J&apos;ai compris 😁</Button>\n    </DialogActions>\n  </Dialog>\n);\n\nAlert.propTypes = {\n  isAlertOpen: PropTypes.bool.isRequired,\n  message: PropTypes.string.isRequired,\n  setAlertOpen: PropTypes.func.isRequired,\n};\n\nexport default Alert;\n","import React, { useState } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport handleError from \"../utils/error\";\nimport { sendSignIn } from \"../services/auth\";\nimport EmailInput from \"./EmailInput\";\nimport Alert from \"./Alert\";\n\nconst Login = () => {\n  const [isButtonDisabled, setIsButtonDisabled] = useState(false);\n  const [isEmailOnError, setEmailOnError] = useState(false);\n  const [isAlertOpen, setAlertOpen] = useState(false);\n\n  const login = (email) => {\n    setIsButtonDisabled(true);\n\n    sendSignIn(email)\n      .then(() => {\n        window.localStorage.setItem(\"emailForSignIn\", email);\n        setAlertOpen(true);\n        setIsButtonDisabled(false);\n      })\n      .catch((error) => {\n        handleError(error);\n        setIsButtonDisabled(false);\n      });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const email = event?.target?.elements?.email?.value;\n\n    if (!isEmailOnError) login(email);\n  };\n\n  return (\n    <div className=\"formContainer\">\n      <form onSubmit={handleSubmit}>\n        <EmailInput\n          isEmailOnError={isEmailOnError}\n          setEmailOnError={setEmailOnError}\n        />\n\n        <Button type=\"submit\" variant=\"contained\" disabled={isButtonDisabled}>\n          {!isButtonDisabled\n            ? \"Recevoir le lien de connexion\"\n            : \"Patiente un peu 🚀\"}\n        </Button>\n      </form>\n\n      <Alert\n        isAlertOpen={isAlertOpen}\n        message=\"Tu vas recevoir un mail pour te connecter 💌\"\n        setAlertOpen={setAlertOpen}\n      />\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Alert from \"@mui/material/Alert\";\nimport Snackbar from \"@mui/material/Snackbar\";\n\nconst SUCCESS_MESSAGE_LENGTH_DURATION = 3000;\n\nconst SnackbarStack = ({ snackPack, setSnackPack }) => {\n  const [isSnackbarShowed, setSnackbarShowed] = useState(false);\n  const [messageInfo, setMessageInfo] = React.useState(undefined);\n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setSnackbarShowed(false);\n  };\n\n  const handleExited = () => {\n    setMessageInfo(undefined);\n  };\n\n  React.useEffect(() => {\n    if (snackPack.length && !messageInfo) {\n      setMessageInfo({ ...snackPack[0] });\n      setSnackPack((prev) => prev.slice(1));\n      setSnackbarShowed(true);\n    } else if (snackPack.length && messageInfo && isSnackbarShowed) {\n      setSnackbarShowed(false);\n    }\n  }, [snackPack, setSnackPack, messageInfo, isSnackbarShowed]);\n\n  return (\n    <Snackbar\n      TransitionProps={{ onExited: handleExited }}\n      anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n      autoHideDuration={SUCCESS_MESSAGE_LENGTH_DURATION}\n      key={messageInfo?.key ?? undefined}\n      onClose={handleClose}\n      open={isSnackbarShowed}\n    >\n      <Alert severity=\"success\">Repas enregistré</Alert>\n    </Snackbar>\n  );\n};\n\nSnackbarStack.propTypes = {\n  snackPack: PropTypes.arrayOf(\n    PropTypes.shape({\n      message: PropTypes.number,\n      key: PropTypes.string,\n    })\n  ).isRequired,\n  setSnackPack: PropTypes.func.isRequired,\n};\n\nexport default SnackbarStack;\n","import { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useObjectVal } from \"react-firebase-hooks/database\";\nimport { ref, set } from \"firebase/database\";\nimport { auth, database } from \"../libs/firebase\";\n\nconst useRetrieveDiets = () => {\n  const [user] = useAuthState(auth);\n  const userId = user?.uid;\n  const [diets, loadingDiets] = useObjectVal(ref(database, `users/${userId}`));\n\n  return { diets: diets || [], loadingDiets };\n};\n\nconst useSendDiets = (user, data) =>\n  set(ref(database, `users/${user?.uid}`), data);\n\nexport { useRetrieveDiets as retrieveDiets, useSendDiets as sendDiets };\n","const uniqueKey = () => Math.random().toString().slice(2, 9);\n\nexport default uniqueKey;","import { FormControlLabel, Radio, RadioGroup } from \"@mui/material\";\nimport React from \"react\";\nimport * as PropTypes from \"prop-types\";\nimport uniqueKey from \"../utils/uniqueKey\";\n\nconst RadioButtons = ({ data, cssClassName }) => (\n  <div className=\"mb40\">\n    <RadioGroup\n      row\n      aria-label=\"position\"\n      name={data?.[0]?.name}\n      defaultValue={data?.[0]?.value}\n      className=\"radioGroup\"\n    >\n      {data.map((meal) => (\n        <FormControlLabel\n          value={meal?.value}\n          key={uniqueKey()}\n          control={<Radio size=\"small\" />}\n          label={meal?.label}\n          labelPlacement=\"top\"\n          className={cssClassName}\n        />\n      ))}\n    </RadioGroup>\n  </div>\n);\n\nRadioButtons.propTypes = {\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      label: PropTypes.string,\n      name: PropTypes.string,\n      value: PropTypes.string,\n    })\n  ).isRequired,\n  cssClassName: PropTypes.string.isRequired,\n};\n\nexport default RadioButtons;\n","import React, { useState } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport { FormControl, TextField } from \"@mui/material\";\nimport SnackbarStack from \"./SnackbarStack\";\nimport { retrieveDiets, sendDiets } from \"../services/diets\";\nimport { retrieveUser } from \"../services/auth\";\nimport uniqueKey from \"../utils/uniqueKey\";\nimport RadioButtons from \"./RadioButtons\";\nimport mealsData from \"../data/meals.json\";\nimport dietsData from \"../data/diets.json\";\nimport composeUserDiet from \"../utils/diets\";\n\nconst DietForm = () => {\n  const [snackPack, setSnackPack] = useState([]);\n  const { user } = retrieveUser();\n  const { diets } = retrieveDiets();\n\n  const handleSuccessMessage = () => {\n    setSnackPack((prev) => [...prev, { key: uniqueKey() }]);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const date = event.target.date.value;\n    const diet = event.target.diet.value;\n    const meal = event.target.meal.value;\n    const userDiet = { date, diet, meal };\n\n    sendDiets(user, composeUserDiet(userDiet, diets)).then(\n      handleSuccessMessage\n    );\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <FormControl component=\"fieldset\" className=\"w100\">\n          <div className=\"dateContainer mb40\">\n            <TextField\n              id=\"date\"\n              label=\"Date du repas\"\n              type=\"date\"\n              className=\"dateField\"\n              InputLabelProps={{ shrink: true }}\n              required\n            />\n          </div>\n\n          <RadioButtons cssClassName=\"mealLabel\" data={mealsData} />\n          <RadioButtons cssClassName=\"label\" data={dietsData} />\n        </FormControl>\n\n        <Button type=\"submit\" variant=\"contained\">\n          Enregistrer\n        </Button>\n      </form>\n\n      <SnackbarStack snackPack={snackPack} setSnackPack={setSnackPack} />\n    </>\n  );\n};\n\nexport default DietForm;\n","export default function composeUserDiet(userDiet, diets) {\n  const rawDiets = diets;\n  const dietFilter = (item) =>\n    userDiet.date === item.date && userDiet.meal === item.meal;\n  const currentDietInSavedDiet = rawDiets.filter(dietFilter);\n  const currentDietFirstIndexInSavedDiet = rawDiets.findIndex(dietFilter);\n  const isCurrentDietInSavedDiet = currentDietInSavedDiet.length > 0;\n  if (isCurrentDietInSavedDiet) {\n    rawDiets.splice(\n      currentDietFirstIndexInSavedDiet,\n      currentDietInSavedDiet.length\n    );\n  }\n\n  return [...rawDiets, userDiet];\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { PieChart } from \"react-minimal-pie-chart\";\n\nfunction shouldShowMessage(diets, data) {\n  return diets.length === 0 || data.length === 0;\n}\n\nfunction showMessage(diets) {\n  return (\n    <div className=\"chartEmpty\">\n      <p>\n        Remplis le formulaire{\" \"}\n        {diets.length === 0 ? \"\" : \"pour la période sélectionnée\"} 😉\n      </p>\n    </div>\n  );\n}\n\nconst Chart = ({ diets, data, label }) => (\n  <div className=\"chartContainer\">\n    {shouldShowMessage(diets, data) ? (\n      showMessage(diets)\n    ) : (\n      <PieChart data={data} label={label} labelStyle={{ fontSize: \"6px\" }} />\n    )}\n  </div>\n);\n\nChart.propTypes = {\n  diets: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string,\n      value: PropTypes.number,\n      color: PropTypes.string,\n    })\n  ).isRequired,\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      date: PropTypes.string,\n      diet: PropTypes.string,\n      meal: PropTypes.string,\n    })\n  ).isRequired,\n  label: PropTypes.func.isRequired,\n};\n\nexport default Chart;\n","import React, { useCallback, useEffect } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport { ToggleButton, ToggleButtonGroup } from \"@mui/material\";\nimport DietForm from \"./DietForm\";\nimport Chart from \"./Chart\";\nimport { logOut, retrieveUser } from \"../services/auth\";\nimport { retrieveDiets } from \"../services/diets\";\n\nconst MyQS = () => {\n  const { user } = retrieveUser();\n  const { diets } = retrieveDiets();\n\n  const [periodDiet, setPeriodDiet] = React.useState();\n  const [periodDietButton, setPeriodDietButton] = React.useState(() => [\n    \"week\",\n  ]);\n\n  const getData = useCallback(\n    (period) => {\n      const savedDietFilteredByPeriod = diets.filter((diet) => {\n        const dietDate = new Date(diet.date);\n        const today = new Date();\n        if (period === \"week\") {\n          const rawToday = new Date();\n          const pastWeek = rawToday.setDate(rawToday.getDate() - 7);\n          return dietDate > pastWeek;\n        }\n        if (period === \"month\") {\n          return dietDate > today.setMonth(today.getMonth() - 1);\n        }\n        if (period === \"year\") {\n          return dietDate > today.setFullYear(today.getFullYear() - 1);\n        }\n        return true;\n      });\n      const veganDiet = savedDietFilteredByPeriod.filter(\n        (diet) => diet.diet === \"vegan\"\n      );\n      const vegetarianDiet = savedDietFilteredByPeriod.filter(\n        (diet) => diet.diet === \"vegetarian\"\n      );\n      const omnivoreDiet = savedDietFilteredByPeriod.filter(\n        (diet) => diet.diet === \"omnivore\"\n      );\n\n      const periodDietArr = [];\n\n      if (veganDiet.length > 0) {\n        periodDietArr.push({\n          title: \"vegan\",\n          value: veganDiet.length,\n          color: \"#75DBCD\",\n        });\n      }\n      if (vegetarianDiet.length > 0) {\n        periodDietArr.push({\n          title: \"végétarien\",\n          value: vegetarianDiet.length,\n          color: \"#FAA381\",\n        });\n      }\n      if (omnivoreDiet.length > 0) {\n        periodDietArr.push({\n          title: \"omnivore\",\n          value: omnivoreDiet.length,\n          color: \"#DCDBA8\",\n        });\n      }\n\n      setPeriodDiet(periodDietArr);\n\n      return undefined;\n    },\n    [diets]\n  );\n\n  const handleChange = (event, periodDietSelected) => {\n    getData(periodDietSelected);\n    setPeriodDietButton(periodDietSelected);\n  };\n\n  useEffect(() => {\n    getData(\"week\");\n  }, [diets, getData]);\n\n  const getDietNumber = () => {\n    const dietDates = diets.reduce((previousValue, currentValue) => {\n      previousValue.push(currentValue.date);\n      return previousValue;\n    }, []);\n\n    const dietDatesWithoutDuplicateDates = dietDates.filter(\n      (item, index) => dietDates.indexOf(item) === index\n    );\n\n    return dietDatesWithoutDuplicateDates.length;\n  };\n\n  const getDatesFromSavedDiet = () =>\n    diets.reduce((previousValue, currentValue) => {\n      previousValue.push(currentValue.date);\n      return previousValue;\n    }, []);\n\n  const getNearestDate = () => {\n    const today = new Date();\n    const dates = getDatesFromSavedDiet();\n    const sortedByDiff = [...dates].sort(\n      (a, b) => Math.abs(new Date(a) - today) - Math.abs(new Date(b) - today)\n    );\n\n    return sortedByDiff[0];\n  };\n\n  const nearestDate = getNearestDate()\n    ? new Date(getNearestDate()).toLocaleDateString(\"fr\")\n    : \"Aucune 🤷‍\";\n\n  return (\n    <>\n      <ToggleButtonGroup\n        value={periodDietButton}\n        color=\"primary\"\n        className=\"periodButton\"\n        exclusive\n        onChange={handleChange}\n        size=\"small\"\n      >\n        <ToggleButton value=\"week\">Semaine</ToggleButton>\n        <ToggleButton value=\"month\">Mois</ToggleButton>\n        <ToggleButton value=\"year\">Année</ToggleButton>\n        <ToggleButton value=\"all\">Tout</ToggleButton>\n      </ToggleButtonGroup>\n\n      <Chart\n        diets={diets}\n        data={periodDiet}\n        label={({ dataEntry }) =>\n          dataEntry.value > 0\n            ? `${dataEntry.title} : ${Math.round(dataEntry.percentage)}%`\n            : null\n        }\n      />\n\n      <aside className=\"nearestDate\">\n        <p>Date la plus proche renseignée : {nearestDate}</p>\n      </aside>\n\n      <DietForm />\n\n      <div>\n        <p>Nombre de jours : {getDietNumber()}</p>\n      </div>\n\n      <hr />\n      {user && (\n        <div>\n          <p>Utilisateur: {user.email}</p>\n          <Button\n            onClick={logOut}\n            className=\"logOut\"\n            type=\"submit\"\n            variant=\"outlined\"\n          >\n            Se déconnecter\n          </Button>\n        </div>\n      )}\n\n      <hr />\n    </>\n  );\n};\n\nMyQS.propTypes = {};\n\nexport default MyQS;\n","import React from \"react\";\nimport { Box, AppBar, Toolbar, Typography } from \"@mui/material\";\n\nconst Header = () => (\n  <Box>\n    <AppBar position=\"fixed\">\n      <Toolbar>\n        <Typography variant=\"h6\" component=\"div\" className=\"appBarText\">\n          {process.env.REACT_APP_WEBSITE_NAME}\n        </Typography>\n      </Toolbar>\n    </AppBar>\n  </Box>\n);\n\nexport default Header;\n","import \"../css/loader.css\";\nimport React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Header from \"./Header\";\n\nconst Loading = () => (\n  <div className=\"App\">\n    <Header />\n    <div className=\"loadingContainer\">\n      <div className=\"loading\">\n        <Box component=\"p\">Patiente pendant que la magie opère ✨</Box>\n        <span />\n        <span />\n        <span />\n        <span />\n        <span />\n        <span />\n        <span />\n      </div>\n    </div>\n  </div>\n);\n\nexport default Loading;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Loading from \"../components/Loading\";\nimport { retrieveDiets } from \"../services/diets\";\nimport { retrieveUser } from \"../services/auth\";\n\nconst GlobalLoader = ({ children }) => {\n  const [isLoading, setLoading] = useState(true);\n  const { loadingDiets } = retrieveDiets();\n  const { loadingUser } = retrieveUser();\n  const shouldShowLoader = loadingUser || loadingDiets;\n\n  useEffect(() => {\n    if (shouldShowLoader) {\n      setTimeout(() => setLoading(true), 500);\n    } else {\n      setTimeout(() => setLoading(false), 500);\n    }\n  }, [setLoading, shouldShowLoader]);\n\n  return isLoading ? <Loading /> : children;\n};\n\nGlobalLoader.propTypes = {\n  children: PropTypes.arrayOf(PropTypes.element).isRequired,\n};\n\nexport default GlobalLoader;\n","import React from \"react\";\nimport { Typography } from \"@mui/material\";\n\nconst Footer = () => (\n  <footer>\n        <Typography>Fait avec ❤️ par yasakura_</Typography>\n  </footer>\n);\n\nexport default Footer;\n","// import logo from './logo.svg';\nimport \"./css/App.css\";\nimport React, { useEffect } from \"react\";\nimport { createTheme, ThemeProvider } from \"@mui/material\";\nimport Login from \"./components/Login\";\nimport MyQS from \"./components/MyQS\";\nimport Header from \"./components/Header\";\nimport { retrieveUser, signIn } from \"./services/auth\";\nimport GlobalLoader from \"./hoc/GlobalLoader\";\nimport Footer from \"./components/Footer\";\n\nfunction App() {\n  const { user } = retrieveUser();\n\n  const theme = createTheme({\n    palette: {\n      primary: {\n        main: \"#007ea7\",\n      },\n    },\n  });\n\n  useEffect(() => signIn());\n\n  return (\n    <ThemeProvider theme={theme}>\n      <GlobalLoader>\n        <Header />\n        <div className=\"App\">{user ? <MyQS /> : <Login />}</div>\n        {user && <Footer />}\n      </GlobalLoader>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}