{"version":3,"sources":["Pie.js","App.js","reportWebVitals.js","index.js"],"names":["Pie","useState","JSON","parse","localStorage","getItem","diets","setDiets","handleSubmit","event","a","preventDefault","date","target","value","diet","dietEntry","dateFilter","currentDateInSavedDiet","savedDiet","filter","currentDateIndexInSavedDiet","findIndex","isCurrentDateInSavedDiet","length","dietEntryToSave","splice","setItem","stringify","style","width","height","margin","display","justifyContent","alignItems","data","veganDiet","vegetarianDiet","omnivoreDiet","title","color","getData","label","dataEntry","Math","round","percentage","labelStyle","fontSize","onSubmit","type","name","id","Date","today","dates","reduce","previousValue","currentValue","push","sort","b","abs","getNearestDate","toLocaleDateString","App","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eca7df79.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { PieChart } from 'react-minimal-pie-chart';\n\nconst Pie = () => {\n    const getSavedDiet = () => JSON.parse(localStorage.getItem(\"diet\")) || [];\n\n    const [diets, setDiets] = useState(getSavedDiet());\n\n    const getData = () => {\n        const savedDiet = diets;\n        const veganDiet = savedDiet.filter((diet) => diet.diet === \"vegan\")\n        const vegetarianDiet = savedDiet.filter((diet) => diet.diet === \"vegetarian\")\n        const omnivoreDiet = savedDiet.filter((diet) => diet.diet === \"omnivore\")\n\n        return [\n            { title: 'vegan', value: veganDiet.length, color: '#75DBCD' },\n            { title: 'végétarien', value: vegetarianDiet.length, color: '#FAA381' },\n            { title: 'omnivore', value: omnivoreDiet.length, color: '#DCDBA8' },\n        ]\n    }\n\n    const handleSubmit = async (event) => {\n        event.preventDefault()\n        const date = event.target.date.value;\n        const diet = event.target.diet.value;\n        const savedDiet = diets;\n        const dietEntry = {date, diet};\n        const dateFilter = (diet) => diet.date === date\n        const currentDateInSavedDiet = savedDiet.filter(dateFilter)\n        const currentDateIndexInSavedDiet = savedDiet.findIndex(dateFilter)\n        const isCurrentDateInSavedDiet = currentDateInSavedDiet.length > 0;\n        let dietEntryToSave = [...savedDiet]\n\n        if(isCurrentDateInSavedDiet){\n            dietEntryToSave.splice(currentDateIndexInSavedDiet, 1)\n        }\n\n        dietEntryToSave = [...dietEntryToSave, dietEntry]\n\n        localStorage.setItem(\"diet\", JSON.stringify(dietEntryToSave))\n        setDiets(dietEntryToSave);\n    }\n\n    const getDatesFromSavedDiet = () => diets.reduce(\n        (previousValue, currentValue) => {\n            previousValue.push(currentValue.date)\n            return previousValue\n        }, []\n    )\n\n    const getNearestDate = () => {\n        const today = new Date();\n        const dates = getDatesFromSavedDiet()\n        const sortedByDiff = [...dates].sort((a,b) => {\n            return Math.abs(new Date(a) - today) - Math.abs(new Date(b) - today);\n        })\n        return sortedByDiff[0];\n    }\n\n    return (\n        <>\n            <div style={{width: \"70%\", height: \"300px\", margin: \"0 auto 30px\"}}>\n                {diets.length === 0\n                    ? <div style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\", height: \"100%\"}}>\n                        <p>Remplissez le formulaire ;)</p><\n                      /div>\n                    :  <PieChart\n                        data={getData()}\n                        label={({ dataEntry }) => (\n                            dataEntry.value > 0 ? `${dataEntry.title} : ${Math.round(dataEntry.percentage)}%` : null\n                        )}\n                        labelStyle={{fontSize: \"6px\"}}\n                    />\n                }\n            </div>\n\n            <form onSubmit={handleSubmit}>\n                <label>\n                    Date{\" \"}\n                    <input type=\"date\" name=\"date\" id=\"date\"/>\n                </label><br/><br/>\n                <label>\n                    Végétarien\n\n                    <input type=\"radio\" name=\"diet\" value=\"vegetarian\"/>\n                </label><br/><br/>\n                <label>\n                    Végan\n                    <input type=\"radio\" name=\"diet\" value=\"vegan\"/>\n                </label><br/><br/>\n                <label>\n                    Omnivore\n                    <input type=\"radio\" name=\"diet\" value=\"omnivore\"/>\n                </label><br/><br/>\n                <button type=\"submit\">Enregistrer</button>\n            </form>\n\n            <div>\n                <p>Nombre de jours : {diets.length}</p>\n                <p>Date la plus proche renseignée : {new Date(getNearestDate()).toLocaleDateString(\"fr\")}</p>\n            </div>\n        </>\n    );\n};\n\nPie.propTypes = {\n\n};\n\nexport default Pie;","// import logo from './logo.svg';\nimport './App.css';\nimport Pie from \"./Pie\";\n\nfunction App() {\n\n  \n  return (\n    <div className=\"App\">\n      <header style={{margin: \"20px 0\"}}>My QS</header>\n            <Pie />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}