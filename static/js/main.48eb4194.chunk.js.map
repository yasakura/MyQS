{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","handleSubmit","event","a","preventDefault","date","target","value","diet","savedDiet","getSavedDiet","dietEntry","dietEntryToSave","localStorage","setItem","JSON","stringify","parse","getItem","className","style","margin","width","height","data","veganDiet","filter","vegetarianDiet","omnivoreDiet","title","length","color","getData","label","dataEntry","Math","round","percentage","labelStyle","fontSize","onSubmit","type","name","id","Date","today","dates","reduce","previousValue","currentValue","push","sort","b","abs","getNearestDate","toLocaleDateString","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sPAyFeA,MArFf,WACE,IAAMC,EAAY,uCAAG,WAAOC,GAAP,uBAAAC,EAAA,sDACjBD,EAAME,iBACAC,EAAOH,EAAMI,OAAOD,KAAKE,MACzBC,EAAON,EAAMI,OAAOE,KAAKD,MACzBE,EAAYC,IACZC,EAAY,CAACN,OAAMG,QACrBI,EANa,sBAMSH,GANT,CAMoBE,IAErCE,aAAaC,QAAQ,OAAQC,KAAKC,UAAUJ,IAR3B,2CAAH,sDAwBZF,EAAe,kBAAMK,KAAKE,MAAMJ,aAAaK,QAAQ,UAAY,IAkBvE,OACE,sBAAKC,UAAU,MAAf,UACE,wBAAQC,MAAO,CAACC,OAAQ,UAAxB,mBACE,qBAAKD,MAAO,CAACE,MAAO,MAAOC,OAAQ,QAASF,OAAQ,eAApD,SACI,cAAC,WAAD,CACIG,KApCE,WACZ,IAAMf,EAAYC,IACZe,EAAYhB,EAAUiB,QAAO,SAAClB,GAAD,MAAwB,UAAdA,EAAKA,QAC5CmB,EAAiBlB,EAAUiB,QAAO,SAAClB,GAAD,MAAwB,eAAdA,EAAKA,QACjDoB,EAAenB,EAAUiB,QAAO,SAAClB,GAAD,MAAwB,aAAdA,EAAKA,QAErD,MAAO,CACH,CAAEqB,MAAO,QAAStB,MAAOkB,EAAUK,OAAQC,MAAO,WAClD,CAAEF,MAAO,mBAActB,MAAOoB,EAAeG,OAAQC,MAAO,WAC5D,CAAEF,MAAO,WAAYtB,MAAOqB,EAAaE,OAAQC,MAAO,YA2B5CC,GACNC,MAAO,gBAAGC,EAAH,EAAGA,UAAH,OACHA,EAAU3B,MAAQ,EAAlB,UAAyB2B,EAAUL,MAAnC,cAA8CM,KAAKC,MAAMF,EAAUG,YAAnE,KAAoF,MAExFC,WAAY,CAACC,SAAU,WAIjC,uBAAMC,SAAUvC,EAAhB,UACI,yCACS,IACL,uBAAOwC,KAAK,OAAOC,KAAK,OAAOC,GAAG,YAC9B,uBAAK,uBACf,qDAGE,uBAAOF,KAAK,QAAQC,KAAK,OAAOnC,MAAM,kBAChC,uBAAK,uBACX,6CAEE,uBAAOkC,KAAK,QAAQC,KAAK,OAAOnC,MAAM,aAChC,uBAAK,uBACb,6CAEA,uBAAOkC,KAAK,QAAQC,KAAK,OAAOnC,MAAM,gBAC9B,uBAAK,uBACb,wBAAQkC,KAAK,SAAb,4BAGF,gCACI,mDAAsB/B,IAAeoB,UACrC,kEAA+B,IAAIc,KA7CpB,WACnB,IAAMC,EAAQ,IAAID,KACZE,EATwBpC,IAAeqC,QAC/C,SAACC,EAAeC,GAEZ,OADAD,EAAcE,KAAKD,EAAa5C,MACzB2C,IACR,IASD,OAHqB,YAAIF,GAAOK,MAAK,SAAChD,EAAEiD,GACpC,OAAOjB,KAAKkB,IAAI,IAAIT,KAAKzC,GAAK0C,GAASV,KAAKkB,IAAI,IAAIT,KAAKQ,GAAKP,MAE9C,GAuCwBS,IAAkBC,mBAAmB,gBCvE1EC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.48eb4194.chunk.js","sourcesContent":["// import logo from './logo.svg';\nimport './App.css';\nimport { PieChart } from 'react-minimal-pie-chart';\n\nfunction App() {\n  const handleSubmit = async (event) => {\n      event.preventDefault()\n      const date = event.target.date.value;\n      const diet = event.target.diet.value;\n      const savedDiet = getSavedDiet();\n      const dietEntry = {date, diet};\n      let dietEntryToSave = [...savedDiet, dietEntry]\n\n      localStorage.setItem(\"diet\", JSON.stringify(dietEntryToSave))\n  }\n\n  const getData = () => {\n      const savedDiet = getSavedDiet();\n      const veganDiet = savedDiet.filter((diet) => diet.diet === \"vegan\")\n      const vegetarianDiet = savedDiet.filter((diet) => diet.diet === \"vegetarian\")\n      const omnivoreDiet = savedDiet.filter((diet) => diet.diet === \"omnivore\")\n\n      return [\n          { title: 'vegan', value: veganDiet.length, color: '#75DBCD' },\n          { title: 'végétarien', value: vegetarianDiet.length, color: '#FAA381' },\n          { title: 'omnivore', value: omnivoreDiet.length, color: '#DCDBA8' },\n      ]\n  }\n\n  const getSavedDiet = () => JSON.parse(localStorage.getItem(\"diet\")) || [];\n\n  const getDatesFromSavedDiet = () => getSavedDiet().reduce(\n      (previousValue, currentValue) => {\n          previousValue.push(currentValue.date)\n          return previousValue\n      }, []\n  )\n\n    const getNearestDate = () => {\n        const today = new Date();\n        const dates = getDatesFromSavedDiet()\n        const sortedByDiff = [...dates].sort((a,b) => {\n            return Math.abs(new Date(a) - today) - Math.abs(new Date(b) - today);\n        })\n        return sortedByDiff[0];\n    }\n  \n  return (\n    <div className=\"App\">\n      <header style={{margin: \"20px 0\"}}>My QS</header>\n        <div style={{width: \"70%\", height: \"300px\", margin: \"0 auto 30px\"}}>\n            <PieChart\n                data={getData()}\n                label={({ dataEntry }) => (\n                    dataEntry.value > 0 ? `${dataEntry.title} : ${Math.round(dataEntry.percentage)}%` : null\n                )}\n                labelStyle={{fontSize: \"6px\"}}\n            />\n        </div>\n\n      <form onSubmit={handleSubmit}>\n          <label>\n              Date{\" \"}\n              <input type=\"date\" name=\"date\" id=\"date\"/>\n          </label><br/><br/>\n        <label>\n          Végétarien\n\n          <input type=\"radio\" name=\"diet\" value=\"vegetarian\"/>\n        </label><br/><br/>\n          <label>\n              Végan\n            <input type=\"radio\" name=\"diet\" value=\"vegan\"/>\n          </label><br/><br/>\n          <label>\n              Omnivore\n          <input type=\"radio\" name=\"diet\" value=\"omnivore\"/>\n          </label><br/><br/>\n          <button type=\"submit\">Enregistrer</button>\n      </form>\n\n        <div>\n            <p>Nombre de jours : {getSavedDiet().length}</p>\n            <p>Dernière date renseignée : {new Date(getNearestDate()).toLocaleDateString(\"fr\")}</p>\n        </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}